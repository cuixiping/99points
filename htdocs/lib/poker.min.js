/**
 * Created by Xiaole Tao (http://xiaole.happylive.org)
 * Last update - 2012/09/25.
 */
(function(){if(window.CanvasRenderingContext2D){var d={symbolPath:{hearts:"M100,30C60,7 0,7 0,76C0,131 100,190 100,190C100,190 200,131 200,76C200,7 140,7 100,30z",diamonds:"M184,100C152,120,120,160,100,200C80,160,48,120,16,100C48,80,80,40,100,0C120,40,152,80,184,100z",spades:"M200,120C200,168,144,176,116,156C116,180,116,188,128,200C112,196,88,196,72,200C84,188,84,180,84,156C56,176,0,168,0,120C0,72,60,36,100,0C140,36,200,72,200,120z",clubs:"M80,200C92,184,92,160,92,136C76,180,0,176,0,124C0,80,40,76,68,88C80,92,80,88,72,84C44,64,40,0,100,0C160,0,156,64,128,84C120,88,120,92,132,88C160,76,200,80,200,124C200,176,124,180,108,136C108,160,108,184,120,200C100,196,100,196,80,200z",a:"M6,200V183H23L58,0H78L117,183H131V200H85V183H97L92,156H46L42,183H54V200H6zM88,135L68,37L49,135H88z","2":"M10,200L11,187C15,149,23,136,70,97C93,78,100,68,101,57C104,31,81,23,65,23C46,22,23,34,35,62L12,68C8,43,12,18,33,8C61,-6,96,-1,115,21C127,36,129,56,123,72C104,113,39,131,35,179H105V152H127V200L10,200z","3":"M2,156L18,145C31,167,47,181,70,178C104,176,119,140,112,113C105,89,76,77,53,90C47,93,43,96,41,96C39,96,33,85,34,82C50,59,87,21,87,21H28V47H6V0H120V16C120,16,90,48,80,64C104,65,125,81,132,105C136,118,135,148,129,160C119,182,94,199,71,200C33,202,12,176,2,156L2,156z","4":"M70,200L70,183L86,183L86,153L5,153L5,133L93,0L107,0L107,133L132,133L132,153L107,153L107,183L120,183L120,200zM86,49L30,133L86,133z","5":"M4,148L24,148C28,160,37,173,48,176C80,183,101,166,108,144C116,120,107,84,85,71C67,61,40,70,27,92L13,83L20,0H112V20H37L37,55C52,44,77,44,93,52C123,66,137,98,131,137C123,175,105,197,64,200C20,201,4,170,4,148L4,148z","6":"M8,139C6,122,6,78,8,65C15,26,30,7,55,2C81,-4,116,3,124,35L103,36C91,14,60,15,46,29C34,37,28,68,30,70C30,70,50,55,73,55C120,55,132,94,130,127C129,167,116,198,73,200C31,198,12,177,8,139zM110,128C111,101,98,80,73,77C50,76,26,99,27,127C29,155,40,179,69,179C101,179,110,147,110,128z","7":"M37,200C50,131,65,79,102,22H26V46H6V0H117L131,22C91,64,54,202,61,200H37z","8":"M2,142C3,115,13,105,32,90C17,79,10,63,12,50C15,17,41,0,69,0C98,1,123,24,125,48C127,69,120,79,105,90C123,105,135,115,135,141C134,168,111,199,71,200C31,201,1,168,2,142L2,142zM113,142C115,117,93,101,69,101C45,101,23,121,23,143C23,166,51,178,69,178C91,178,112,163,113,142L113,142zM105,55C106,34,87,20,67,21C50,21,31,34,31,51C31,72,52,83,70,83C86,84,105,71,105,55L105,55z","9":"MM11,161L30,156C37,174,52,180,67,178C94,176,102,146,104,120C94,131,78,137,64,136C21,134,10,100,10,65C9,35,21,13,43,3C55,-1,81,-1,92,4C118,18,128,42,126,98C126,144,117,198,66,200C36,204,14,181,11,161L11,161zM85,111C94,105,98,100,102,92C106,86,106,83,106,69C103,36,86,17,60,21C44,23,36,31,33,46C24,73,35,105,55,112C63,116,78,115,85,111L85,111z","10":"M6,200V0H26V200H6M85,0C66,0,50,17,50,39V162C50,183,66,200,85,200H96C115,200,130,183,130,162V39C130,17,115,0,96,0H85M90,19C102,19,110,28,110,38V163C110,174,102,183,90,183C79,183,70,174,70,163V38C70,28,79,19,90,19L90,19z",j:"M68,0V21H88C88,21,89,41,89,84C89,126,90,146,88,158C81,185,40,185,32,166C27,155,28,146,28,134H6C6,134,6,140,6,147C6,178,17,193,41,198C65,204,95,194,105,174C111,162,111,161,111,89C111,41,111,21,111,21H130V0H68z",q:"M24,134L6,134L6,112L24,112C24,112,24,60,24,40C24,18,40,0,66,0C92,0,110,18,110,40C110,62,111,148,110,155C110,168,108,170,108,171C110,176,130,178,130,177L130,199C115,201,109,199,96,190C88,198,65,205,46,196C32,190,24,174,24,134zM81,174C73,162,58,145,44,140C44,156,46,165,51,171C59,181,71,183,81,174zM66,22C50,22,44,30,44,70C44,94,44,116,44,116C67,123,90,150,90,150L90,70C90,30,82,22,66,22z",k:"M76,180L96,180L64,106L40,142L40,180L56,180L56,200L0,200L0,180L20,180L20,20L0,20L0,0L56,0L56,20L40,20L40,100L92.0636,19.841L76,20L76,0L136,0L136,20L120,20L76,88L116,180L136,180L136,200L76,200z",crown:"M 44,60 C 45,56 -3,33 0,70 C 2,107 39,146 48,150 C 57,154 12,107 12,77 C 12,45 43,65 44,60 M 37,65 C 31,64 20,60 19,81 C 19,100 63,158 65,149 C 65,139 33,102 37,65 M 86,56 C 87,52 38,28 40,66 C 43,103 69,141 78,148 C 86,155 54,102 54,71 C 54,39 86,60 86,56 M 82,65 C 77,64 59,54 59,74 C 60,95 82,146 84,138 C 86,132 78,102 82,65 M 154,60 C 153,56 203,33 200,70 C 197,107 159,146 151,150 C 142,154 187,107 187,77 C 187,45 155,65 154,60 M 161,65 C 167,64 179,60 180,81 C 181,100 137,158 135,149 C 134,139 165,102 161,65 M 113,56 C 112,52 161,28 158,66 C 155,103 130,141 122,148 C 114,155 145,102 145,71 C 145,39 114,60 113,56 M 117,65 C 123,64 141,54 141,74 C 140,95 118,146 116,138 C 114,132 121,102 117,65 z",nine:"M157,89C159,188 80,211 16,196L23,160C62,172 100,167 107,119C93,127 83,133 62,132C28,133 0,113 0,70C0,25 37,0 78,0C137,0 157,41 157,89M105,56C100,42 92,34 77,33C59,33 49,49 49,69C52,101 83,104 107,95C107,82 108,66 105,56z",joker:"M141,0L181,0C168,55 161,150 129,183C91,219 15,198 21,141L60,137C58,157 62,166 81,166C102,165 110,143 115,118M6,378C6,306 53,256 119,256C197,256 213,346 187,398C164,438 130,458 88,459C39,458 7,422 6,378M47,377C49,406 67,425 93,425C168,423 182,292 115,290C69,294 47,338 47,377M0,714L42,518L84,518L66,601L159,518L215,518L124,595L191,714L144,714L94,621L55,654L42,714M8,973L50,777L200,777L193,809L85,809L75,854L180,854L173,887L68,887L56,940L173,940L166,973M43,1231L1,1231L44,1035L133,1035C170,1037 197,1051 198,1087C195,1127 169,1143 136,1148C158,1171 171,1206 182,1231L137,1231C116,1182 112,1150 60,1150M67,1121C96,1121 155,1126 156,1087C151,1061 100,1068 78,1068z"}},c=function(f){var e=arguments.callee.caller.arguments;return e[0]+f*e[2]/200},b=function(f){var e=arguments.callee.caller.arguments;return e[1]+f*e[2]/200},a=function(e){return e*arguments.callee.caller.arguments[2]/200};CanvasRenderingContext2D.prototype.roundRect=function(g,j,h,f,e,i){g=g||0;j=j||0;h=h||200;f=f||200;e=e||20;this.beginPath();if(!i){this.moveTo(g+e,j);this.lineTo(g+h-e,j);this.arc(g+h-e,j+e,e,(Math.PI/180)*270,0);this.lineTo(g+h,j+f-e);this.arc(g+h-e,j+f-e,e,0,(Math.PI/2));this.lineTo(g+e,j+f);this.arc(g+e,j+f-e,e,(Math.PI/2),Math.PI);this.lineTo(g,j+e);this.arc(g+e,j+e,e,Math.PI,(Math.PI/180)*270)}else{this.moveTo(g,j+e);this.lineTo(g,j+f-e);this.arc(g,j+f,e,(Math.PI/180)*270,0);this.lineTo(g+h-e,j+f);this.arc(g+h,j+f,e,Math.PI,(Math.PI/180)*270);this.lineTo(g+h,j+e);this.arc(g+h,j,e,Math.PI/2,Math.PI);this.lineTo(g+e,j);this.arc(g,j,e,0,Math.PI/2)}this.closePath()};CanvasRenderingContext2D.prototype.strokeRoundRect=function(g,j,h,f,e,i){this.roundRect(g+0.5,j+0.5,h-1,f-1,e,i);this.stroke()};CanvasRenderingContext2D.prototype.fillRoundRect=function(g,j,h,f,e,i){this.roundRect(g,j,h,f,e,i);this.fill()};CanvasRenderingContext2D.prototype.svgCurve=function(l,j,o,f){var e,n,h,g,i,m,k;e=function(p){return(h=l+p*o/200)};n=function(p){return(g=j+p*o/200)};k=f.replace(/ *([MmZzLlHhVvCcSsQqTtAa]) */g,"|$1,").replace(/^\||\|[zZ],/g,"").split(/\|/);this.beginPath();for(i in k){m=k[i].split(/[, ]/);(m[0]==="M")?(this.moveTo(e(m[1]),n(m[2]))):(m[0]==="L")?(this.lineTo(e(m[1]),n(m[2]))):(m[0]==="H")?(this.lineTo(e(m[1]),g)):(m[0]==="V")?(this.lineTo(h,n(m[1]))):(m[0]==="C")?(this.bezierCurveTo(e(m[1]),n(m[2]),e(m[3]),n(m[4]),e(m[5]),n(m[6]))):(m[0]==="Q")&&(this.quadraticCurveTo(e(m[1]),n(m[2]),e(m[3]),n(m[4])))}this.closePath()};CanvasRenderingContext2D.prototype.drawPokerSymbol=function(e,h,f,g){e=e||0;h=h||0;f=f||200;g=(g||"hearts").toLowerCase();((d.symbolPath[g])&&this.svgCurve(e,h,f,d.symbolPath[g]))};CanvasRenderingContext2D.prototype.strokePokerSymbol=function(e,h,f,g){this.drawPokerSymbol(e+0.5,h+0.5,f-1,g);this.stroke()};CanvasRenderingContext2D.prototype.fillPokerSymbol=function(e,h,f,g){this.drawPokerSymbol(e,h,f,g);this.fill()};CanvasRenderingContext2D.prototype.drawPokerCrown=function(f,k,g,i,h,j){var e;f=f||0;k=k||0;g=g||200;i=i||"#fdf98b";h=h||"#e7bd4f";j=j||"#fff";e=this.createLinearGradient(c(5),b(5),c(100),b(200));e.addColorStop(0,i);e.addColorStop(1,h);this.fillStyle=e;this.fillPokerSymbol(c(0),b(0),a(200),"crown");this.fillRoundRect(c(88),b(42),a(23),a(110),a(12));this.fillPokerSymbol(c(86),b(18),a(27),"spades");this.fillRoundRect(c(40),b(150),a(120),a(24),a(10));this.fillStyle=j;this.fillPokerSymbol(c(92),b(26),a(15),"diamonds");this.fillPokerSymbol(c(93),b(60),a(13),"hearts");this.fillPokerSymbol(c(93),b(80),a(13),"hearts");this.fillPokerSymbol(c(93),b(100),a(13),"hearts");this.fillPokerSymbol(c(93),b(120),a(13),"hearts");this.fillPokerSymbol(c(93),b(155),a(13),"hearts");this.fillPokerSymbol(c(73),b(155),a(13),"hearts");this.fillPokerSymbol(c(53),b(155),a(13),"hearts");this.fillPokerSymbol(c(113),b(155),a(13),"hearts");this.fillPokerSymbol(c(133),b(155),a(13),"hearts")};CanvasRenderingContext2D.prototype.drawEmptyCard=function(f,j,g,i,h){var e;f=f||0;j=j||0;g=g||200;i=i||"#a22";h=h||"#b55";e=this.createLinearGradient(c(5),b(5),c(55),b(200));e.addColorStop(0,"#ffffff");e.addColorStop(1,"#e0e0e0");this.fillStyle=e;this.fillRoundRect(c(0),b(0),a(150),a(200),a(16));this.strokeStyle="#666";this.strokeRoundRect(c(0),b(0),a(150),a(200),a(16))};CanvasRenderingContext2D.prototype.drawPokerBack=function(e,i,h,g,f){e=e||0;i=i||0;h=h||200;g=g||"#a22";f=f||"#b55";this.drawEmptyCard(e,i,h,g,f);this.fillStyle=g;this.fillRoundRect(c(10),b(10),a(130),a(180),a(8));this.strokeStyle=f;this.strokeRoundRect(c(18),b(18),a(114),a(164),a(4));this.fillStyle=f;this.fillRoundRect(c(26),b(26),a(96),a(148),a(24),true);this.fillPokerSymbol(c(24),b(24),a(20),"spades");this.fillPokerSymbol(c(106),b(24),a(20),"spades");this.fillPokerSymbol(c(44),b(176),a(-20),"spades");this.fillPokerSymbol(c(126),b(176),a(-20),"spades");this.fillStyle=g;this.fillRoundRect(c(50),b(40),a(50),a(120),a(24));this.fillPokerSymbol(c(32),b(54),a(86),"spades");this.fillPokerSymbol(c(30),b(60),a(16),"spades");this.fillPokerSymbol(c(104),b(60),a(16),"spades");this.fillPokerSymbol(c(30),b(128),a(16),"spades");this.fillPokerSymbol(c(104),b(128),a(16),"spades");this.strokePokerSymbol(c(31),b(53),a(88),"spades");this.fillStyle=f;this.fillPokerSymbol(c(47),b(80),a(35),"nine");this.fillPokerSymbol(c(77),b(80),a(35),"nine")};CanvasRenderingContext2D.prototype.drawPokerCard=function(f,i,g,h,e){f=f||0;i=i||0;g=g||200;h=(h||"hearts").toLowerCase();e=(e||"joker").toLowerCase();this.drawEmptyCard(c(0),b(0),a(200));this.fillStyle=(h==="hearts"||h==="diamonds")?"#a22":"#000";if(g>=100){if(e!=="joker"){this.fillPokerSymbol(c(40),b(65),a(70),h);this.fillPokerSymbol(c(10),b(10),a(40),e);this.fillPokerSymbol(c(11),b(55),a(25),h);this.fillPokerSymbol(c(140),b(190),a(-40),e);this.fillPokerSymbol(c(139),b(145),a(-25),h)}else{this.fillPokerSymbol(c(11),b(10),a(18),"joker");this.fillPokerSymbol(c(139),b(190),a(-18),"joker");if(h==="hearts"||h==="diamonds"){this.drawPokerCrown(c(38),b(63),a(74),"#b55","#a22");this.drawPokerCrown(c(40),b(65),a(70),"#fdf98b","#e7bd4f","#a22")}else{this.drawPokerCrown(c(38),b(63),a(74),"#000","#000");this.drawPokerCrown(c(40),b(65),a(70),"#eee","#888","#333")}}}else{if(e!=="joker"){this.fillPokerSymbol(c(30),b(75),a(100),h);this.fillPokerSymbol(c(15),b(15),a(50),e)}else{this.fillPokerSymbol(c(11),b(10),a(22),"joker");if(h==="hearts"||h==="diamonds"){this.drawPokerCrown(c(45),b(73),a(89),"#b55","#a22");this.drawPokerCrown(c(47),b(75),a(85),"#fdf98b","#e7bd4f","#a22")}else{this.drawPokerCrown(c(45),b(73),a(89),"#000","#000");this.drawPokerCrown(c(47),b(75),a(85),"#eee","#888","#333")}}}}}})();
