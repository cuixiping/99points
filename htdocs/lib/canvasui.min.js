/**
 * Created by Xiaole Tao (http://xiaole.happylive.org)
 * Last update - 2012/09/25.
 */
(function(){if(window.CanvasRenderingContext2D&&window.CanvasRenderingContext2D.roundRect){CanvasRenderingContext2D.prototype.drawLabel=function(h,g,j,b,f){var a,i,e,c=15,d;h=h||0;g=g||0;j=j||"Hello!";if(!f||!f.toString().match(/[123456]/)){f=1}if(b){e=["#f9bf12","#f7aa0f","#f3800a"]}else{e=["#dfd4b0","#cdbc84","#b39a5c"]}d=j.length*7+18;this.strokeStyle="rgba(10,10,10,0.6)";this.strokeRoundRect(h+2,g+2,d,c,3);this.strokeStyle=e[0];this.strokeRoundRect(h,g,d,c,3);i=this.createLinearGradient(h+1,g+1,h+1,g+1+c);i.addColorStop(0,e[1]);i.addColorStop(1,e[2]);this.fillStyle=i;this.fillRoundRect(h+1,g+1,d,c,3);this.font="12px Consolas";this.fillStyle="rgba(255,255,255,0.6)";this.fillText(j,h+10,g+12);this.fillStyle="#222";this.fillText(j,h+10,g+13);if(f==4||f==5||f==6){a=(f==4)?h+15:(f==5)?h+d/2-3:h+d-18;fillStyle="rgba(255,255,255,0.4)";this.beginPath();this.moveTo(a,g+16);this.lineTo(a+3,g+21);this.lineTo(a+6,g+16);this.closePath();this.fill();this.fillStyle=e[2];this.beginPath();this.moveTo(a,g+16);this.lineTo(a+3,g+20);this.lineTo(a+6,g+16);this.closePath();this.fill()}else{a=(f==1)?h+15:(f==2)?h+d/2-3:h+d-18;this.fillStyle=e[1];this.beginPath();this.moveTo(a,g+1);this.lineTo(a+3,g-3);this.lineTo(a+6,g+1);this.closePath();this.fill()}}}})();
